# Services

Сервисы — программы, работающие в фоновом режиме и выполняющие определенные задачи.

Сервисы идентифицируются однозначно по Service Principal Name (SPN).

SPN-строка имеет такой формат:

```
SPN="serviceclass"/"hostname[:port]"[/"servicename"]
```

* `Serviceclass` — строка, которая идентифицирует класс службы, например `ldap` — идентификатор для службы каталогов;
* `Hostname` — строка, где указывается полное доменное имя системы, а иногда и порт;
* `Servicename` — строка, которая представляет собой уникальное имя (DN), GUID объекта или полностью определенное доменное имя (FQDN) службы.

SPN уникальный в пределах леса. Когда компьютер добавляют в домен, у его учетной записи автоматически указывается host SPN, что позволяет службам на этой машине запускаться из-под локальных учетных записей, таких как Local System и Network Service.

SPN будет сохранен в объекте пользователя (или компьютера), таким образом, пользователь, которому принадлежит сервис, будет идентифицирован

```
PS C:\> Get-ADComputer ws01-10 -Properties ServicePrincipalName | select -ExpandProperty ServicePrincipalName
TERMSRV/WS01-10
TERMSRV/ws01-10.contoso.local
RestrictedKrbHost/ws01-10.contoso.local
HOST/ws01-10.contoso.local
RestrictedKrbHost/WS01-10
HOST/WS01-10
```
